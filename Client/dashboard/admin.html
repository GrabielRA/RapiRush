<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeliveryApp - Panel Administrativo</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/admin.css">
</head>
<body>
     <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold text-warning" href="index.html">
                <h3>üöö DeliveryApp           Administrador</h3>
                
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html">Inicio</a>
                    </li>
                    <div class="nav-menu"></div>
                <div class="nav-user">
                    <button onclick="logout()" class="btn btn-secondary btn-small">Cerrar Sesi√≥n</button>
                </div>
            </div>
                    
                    
                </ul>
            </div>
        </div>
    </nav>

   
    <div class="admin-container">
        <div class="admin-sidebar">
            <div class="sidebar-menu">
                <button class="sidebar-btn active" onclick="showSection('dashboard')">üìä Dashboard</button>
                <button class="sidebar-btn" onclick="showSection('restaurants')">üè™ Restaurantes</button>
                <button class="sidebar-btn" onclick="showSection('orders')">üìã Pedidos</button>
                <button class="sidebar-btn" onclick="showSection('delivery')">üöö Repartidores</button>
                <button class="sidebar-btn" onclick="showSection('reports')">üìà Reportes</button>
            </div>
        </div>

        <div class="admin-content">
            <div id="dashboard-section" class="admin-section active">
                <h2>Dashboard General</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìã</div>
                        <div class="stat-info">
                            <h3>156</h3>
                            <p>Pedidos Hoy</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <h3>$12,450</h3>
                            <p>Ventas Hoy</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üè™</div>
                        <div class="stat-info">
                            <h3>24</h3>
                            <p>Restaurantes Activos</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üöö</div>
                        <div class="stat-info">
                            <h3>18</h3>
                            <p>Repartidores Disponibles</p>
                        </div>
                    </div>
                </div>

                <div class="charts-section">
                    <div class="chart-card">
                        <h3>Pedidos por Hora</h3>
                        <div class="chart-placeholder">
                            <div class="bar-chart">
                                <div class="bar" style="height: 60%">12</div>
                                <div class="bar" style="height: 80%">18</div>
                                <div class="bar" style="height: 45%">10</div>
                                <div class="bar" style="height: 90%">22</div>
                                <div class="bar" style="height: 75%">16</div>
                                <div class="bar" style="height: 65%">14</div>
                            </div>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Top Categor√≠as</h3>
                        <div class="category-list">
                            <div class="category-item">
                                <span>Pizza</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 85%"></div>
                                </div>
                                <span>85%</span>
                            </div>
                            <div class="category-item">
                                <span>Hamburguesas</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 70%"></div>
                                </div>
                                <span>70%</span>
                            </div>
                            <div class="category-item">
                                <span>Sushi</span>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 55%"></div>
                                </div>
                                <span>55%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="restaurants-section" class="admin-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Restaurantes</h2>
                    <button class="btn btn-primary" onclick="showAddRestaurantModal()">+ Agregar Restaurante</button>
                </div>
                
                <div class="table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Nombre</th>
                                <th>Categor√≠a</th>
                                <th>Ubicaci√≥n</th>
                                <th>Estado</th>
                                <th>Rating</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="restaurantsTableBody">
                            <tr>
                                <td>Pizza Palace</td>
                                <td>Pizza</td>
                                <td>Zona Norte</td>
                                <td><span class="status-badge active">Activo</span></td>
                                <td>4.5 ‚≠ê</td>
                                <td>
                                    <button class="btn btn-small btn-secondary">Editar</button>
                                    <button class="btn btn-small btn-danger">Desactivar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Burger House</td>
                                <td>Hamburguesas</td>
                                <td>Centro</td>
                                <td><span class="status-badge active">Activo</span></td>
                                <td>4.2 ‚≠ê</td>
                                <td>
                                    <button class="btn btn-small btn-secondary">Editar</button>
                                    <button class="btn btn-small btn-danger">Desactivar</button>
                                </td>
                            </tr>
                            <tr>
                                <td>Sushi Master</td>
                                <td>Sushi</td>
                                <td>Zona Sur</td>
                                <td><span class="status-badge inactive">Inactivo</span></td>
                                <td>4.8 ‚≠ê</td>
                                <td>
                                    <button class="btn btn-small btn-secondary">Editar</button>
                                    <button class="btn btn-small btn-success">Activar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="orders-section" class="admin-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Pedidos</h2>
                    <div class="filter-buttons">
                        <button class="btn btn-small btn-secondary" onclick="filterOrders('all')">Todos</button>
                        <button class="btn btn-small btn-warning" onclick="filterOrders('pending')">Pendientes</button>
                        <button class="btn btn-small btn-info" onclick="filterOrders('preparing')">Preparando</button>
                        <button class="btn btn-small btn-success" onclick="filterOrders('delivered')">Entregados</button>
                    </div>
                </div>
                
                <div class="orders-grid" id="ordersGrid">
                    <div class="order-card pending">
                        <div class="order-header">
                            <span class="order-id">#12345</span>
                            <span class="order-status pending">Pendiente</span>
                        </div>
                        <div class="order-info">
                            <p><strong>Cliente:</strong> Juan P√©rez</p>
                            <p><strong>Restaurante:</strong> Pizza Palace</p>
                            <p><strong>Direcci√≥n:</strong> Calle 123 #45-67</p>
                            <p><strong>Total:</strong> $25.00</p>
                            <p><strong>Hora:</strong> 2:30 PM</p>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-small btn-success" onclick="updateOrderStatus('12345', 'preparing')">Confirmar</button>
                            <button class="btn btn-small btn-danger" onclick="updateOrderStatus('12345', 'cancelled')">Cancelar</button>
                        </div>
                    </div>
                    
                    <div class="order-card preparing">
                        <div class="order-header">
                            <span class="order-id">#12346</span>
                            <span class="order-status preparing">Preparando</span>
                        </div>
                        <div class="order-info">
                            <p><strong>Cliente:</strong> Mar√≠a Garc√≠a</p>
                            <p><strong>Restaurante:</strong> Burger House</p>
                            <p><strong>Direcci√≥n:</strong> Avenida 45 #12-34</p>
                            <p><strong>Total:</strong> $18.50</p>
                            <p><strong>Hora:</strong> 2:15 PM</p>
                        </div>
                        <div class="order-actions">
                            <button class="btn btn-small btn-info" onclick="updateOrderStatus('12346', 'delivering')">Enviar</button>
                            <button class="btn btn-small btn-secondary" onclick="assignDelivery('12346')">Asignar Repartidor</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="delivery-section" class="admin-section">
                <div class="section-header">
                    <h2>Gesti√≥n de Repartidores</h2>
                    <button class="btn btn-primary" onclick="showAddDeliveryModal()">+ Agregar Repartidor</button>
                </div>
                
                <div class="delivery-grid">
                    <div class="delivery-card available">
                        <div class="delivery-avatar">üë§</div>
                        <div class="delivery-info">
                            <h4>Carlos Rodr√≠guez</h4>
                            <p>üì± +57 300 123 4567</p>
                            <p>üèçÔ∏è Moto - ABC123</p>
                            <span class="delivery-status available">Disponible</span>
                        </div>
                        <div class="delivery-stats">
                            <span>‚≠ê 4.8</span>
                            <span>üìã 156 entregas</span>
                        </div>
                    </div>
                    
                    <div class="delivery-card busy">
                        <div class="delivery-avatar">üë§</div>
                        <div class="delivery-info">
                            <h4>Ana L√≥pez</h4>
                            <p>üì± +57 301 234 5678</p>
                            <p>üö≤ Bicicleta</p>
                            <span class="delivery-status busy">Ocupado</span>
                        </div>
                        <div class="delivery-stats">
                            <span>‚≠ê 4.9</span>
                            <span>üìã 203 entregas</span>
                        </div>
                    </div>
                    
                    <div class="delivery-card offline">
                        <div class="delivery-avatar">üë§</div>
                        <div class="delivery-info">
                            <h4>Luis Mart√≠nez</h4>
                            <p>üì± +57 302 345 6789</p>
                            <p>üèçÔ∏è Moto - XYZ789</p>
                            <span class="delivery-status offline">Desconectado</span>
                        </div>
                        <div class="delivery-stats">
                            <span>‚≠ê 4.6</span>
                            <span>üìã 89 entregas</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="reports-section" class="admin-section">
                <div class="section-header">
                    <h2>Reportes de Desempe√±o</h2>
                    <div class="report-filters">
                        <select id="reportType">
                            <option value="sales">Ventas</option>
                            <option value="orders">Pedidos</option>
                            <option value="restaurants">Restaurantes</option>
                            <option value="delivery">Repartidores</option>
                        </select>
                        <input type="date" id="dateFrom" value="2024-01-01">
                        <input type="date" id="dateTo" value="2024-01-31">
                        <button class="btn btn-primary" onclick="generateReport()">Generar Reporte</button>
                    </div>
                </div>
                
                <div class="report-content">
                    <div class="report-card">
                        <h3>Resumen del Per√≠odo</h3>
                        <div class="report-stats">
                            <div class="report-stat">
                                <span class="stat-label">Total Pedidos:</span>
                                <span class="stat-value">1,234</span>
                            </div>
                            <div class="report-stat">
                                <span class="stat-label">Total Ventas:</span>
                                <span class="stat-value">$45,678</span>
                            </div>
                            <div class="report-stat">
                                <span class="stat-label">Promedio por Pedido:</span>
                                <span class="stat-value">$37.02</span>
                            </div>
                            <div class="report-stat">
                                <span class="stat-label">Restaurante Top:</span>
                                <span class="stat-value">Pizza Palace</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="report-chart">
                        <h3>Tendencia de Ventas</h3>
                        <div class="line-chart">
                            <div class="chart-placeholder">
                                <p>üìä Aqu√≠ se mostrar√≠a un gr√°fico de l√≠neas con las ventas del per√≠odo seleccionado</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../assets/js/admin.js"></script>
    <script>
         // Cerrar sesi√≥n
        function logout() {
            if (confirm('¬øEst√°s seguro de que deseas cerrar sesi√≥n?')) {
                localStorage.removeItem('user');
                sessionStorage.removeItem('user');
                window.location.href = '../auth/login.html';
            }
        }
    </script>
    <script src="../assets/js/session.js"></script>
    
</body>
</html>